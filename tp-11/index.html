<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Editor de Texto - DOM y JavaScript</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
</head>

<body>
  <div class="container my-1 my-sm-2 my-md-4 my-lg-5">
    <h1>Editor de Texto</h1>
    <div class="card">
      <div class="card-body">
        <h2>Texto</h2>

        <p class="texto" id="texto">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec elementum auctor
          libero, vel imperdiet est. Etiam blandit facilisis ex, nec cursus metus pharetra quis. Fusce imperdiet nisl
          nibh, ac aliquet ante elementum vitae.</p>

        <hr class="hr">

        <h2>Opciones de Formato</h2>
        <div class="row">
          <div class="col-12 col-md-4 my-1">
            <button id="btn-negrita" class="btn d-block w-100 btn-primary" data-formato="negrita">
              Bold (Negrita)
            </button>
          </div>
          <div class="col-12 col-md-4 my-1">
            <button id="btn-cursiva" class="btn d-block w-100 btn-primary" data-formato="cursiva">
              Italic (Cursiva)
            </button>
          </div>
          <div class="col-12 col-md-4 my-1">
            <button id="btn-subrayado" class="btn d-block w-100 btn-primary" data-formato="subrayado">
              Underline (Subrayado)
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm"
    crossorigin="anonymous"></script>
  <script type="text/javascript">

    // Obtener el elemento con id "texto"
    const elementoTexto = document.getElementById('texto');

    const btn_color = document.createElement('button')
    btn_color.textContent = 'Color'
    btn_color.dataset.formato = 'color'
    btn_color.classList.add('btn', 'btn-primary', 'w-20')
    const div = document.querySelector('.row')
    div.append(btn_color)

    //cambiar el texto 
    const nuevoInput = document.createElement('input');
    nuevoInput.type = 'text';
    nuevoInput.placeholder = 'Nuevo texto';

    const enviar = document.createElement('button');
    enviar.classList.add('btn', 'btn-primary', 'w-20', 'm-2');
    enviar.textContent = 'Enviar';

    function cambiarTexto() {
      elementoTexto.textContent = nuevoInput.value;
    }
    document.body.appendChild(nuevoInput);
    document.body.appendChild(enviar);

    //cambiar tamaño del texto
    const tamañoIput = document.createElement('input');
    tamañoIput.type = 'number';
    tamañoIput.placeholder = 'Tamaño de texto (px)';
    const enviarpx = document.createElement('button');
    enviarpx.classList.add('btn', 'btn-primary', 'w-15', 'm-2');
    enviarpx.textContent = 'Enviar';

    function cambiarTamaño() {
      elementoTexto.style.fontSize = tamañoIput.value + 'px';

    }
    enviarpx.addEventListener('click', cambiarTamaño)

    document.body.appendChild(tamañoIput);
    document.body.appendChild(enviarpx);


    const btn_negrita = document.getElementById('btn-negrita');
    const btn_cursiva = document.getElementById('btn-cursiva');
    const btn_subrayado = document.getElementById('btn-subrayado');

    btn_negrita.addEventListener('click', funcionNegrita);
    btn_cursiva.addEventListener('click', funcionCursiva);
    btn_subrayado.addEventListener('click', funcionSubrayado);
    btn_color.addEventListener('click', handlerBoton)
    enviar.addEventListener('click', cambiarTexto)

    /**
     * funcionNegrita()
     * esta función se va a llamar cuando el usuario selecciona la opción Bold (negrita).
     */
    function funcionNegrita() {
      // su implementación
      elementoTexto.style.fontWeight = 'bold';
      btn_negrita.style.backgroundColor = 'black';


    }

    /**
     * funcionCursiva()
     * esta función se va a llamar cuando el usuario selecciona la opción Bold (negrita).
     */
    function funcionCursiva() {
      // su implementación
      elementoTexto.style.fontStyle = 'italic';
      btn_cursiva.style.backgroundColor = 'black';

    }

    /**
     * funcionSubrayado()
     * esta función se va a llamar cuando el usuario selecciona la opción Bold (negrita).
     */
    function funcionSubrayado() {
      // su implementación
      elementoTexto.style.textDecoration = 'underline';
      btn_subrayado.style.backgroundColor = 'black';

    }

    function color() {
      elementoTexto.style.color = "red";
      btn_color.style.backgroundColor = 'black';

    }


    function handlerBoton(e) {
      const funcionBoton = e.target.dataset.formato;
      switch (funcionBoton) {
        case 'negrita':
          funcionNegrita();
          break;
        case 'cursiva':
          funcionCursiva();
          break;
        case 'subrayado':
          funcionSubrayado();
          break;
        case 'color':
          color();
          break;
        case 'texto':
          cambiarTexto();
          break;
        case 'tamaño':
          cambiarTamaño();
          break;
      }
    }
    document.querySelectorAll('button.btn').forEach(e => e.addEventListener('click', handlerBoton));
  </script>
</body>

</html>